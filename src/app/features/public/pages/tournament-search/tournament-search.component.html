<div class="search-container">
  <div class="search-card">
    <h1 class="search-title">TORNEOS</h1>
    <p class="search-subtitle">Puedes encontrar tus torneos aquí</p>

    <!-- Barra de búsqueda -->
    <div class="search-bar">
      <input
        type="text"
        class="search-input"
        [(ngModel)]="searchQuery"
        (input)="onSearch()"
        (keyup.enter)="onSearch()"
        placeholder="Escribe el nombre del torneo o su ID..."
        autocomplete="off"
      />
      <button class="search-button" (click)="onSearch()" [disabled]="searching">
        <svg *ngIf="!searching" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
        <span *ngIf="searching">Buscando...</span>
        <span *ngIf="!searching">BUSCAR</span>
      </button>
    </div>

    <!-- Mensaje cuando no hay resultados -->
    <div *ngIf="hasSearched && !match && suggestions.length === 0" class="no-results">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor" style="opacity: 0.3;">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
      </svg>
      <p>No encontramos torneos con ese criterio.</p>
    </div>

    <!-- Resultado exacto (Match) -->
    <div *ngIf="match" class="results-section">
      <h3 class="section-title">Resultado Exacto</h3>
      <div class="tournament-card match-card" (click)="viewTournament(match)">
        <div class="tournament-logo">
          <span>{{ match.nombre.charAt(0) }}</span>
        </div>
        <div class="tournament-info">
          <h4>{{ match.nombre }}</h4>
          <div class="tournament-details">
            <span class="detail-badge">{{ match.modalidad }}</span>
            <span class="detail-badge">{{ match.vueltas }} {{ match.vueltas === 1 ? 'vuelta' : 'vueltas' }}</span>
            <span class="detail-badge estado">{{ match.estado }}</span>
          </div>
        </div>
        <button class="btn-enter" (click)="viewTournament(match); $event.stopPropagation()">ENTRAR</button>
      </div>
    </div>

    <!-- Sugerencias -->
    <div *ngIf="suggestions.length > 0" class="results-section">
      <h3 class="section-title">Sugerencias</h3>
      <div class="tournaments-grid">
        <div 
          *ngFor="let torneo of suggestions" 
          class="tournament-card"
          (click)="viewTournament(torneo)">
          <div class="tournament-logo">
            <span>{{ torneo.nombre.charAt(0) }}</span>
          </div>
          <div class="tournament-info">
            <h4>{{ torneo.nombre }}</h4>
            <div class="tournament-details">
              <span class="detail-badge">{{ torneo.modalidad }}</span>
              <span class="detail-badge">{{ torneo.vueltas }} {{ torneo.vueltas === 1 ? 'vuelta' : 'vueltas' }}</span>
              <span class="detail-badge estado">{{ torneo.estado }}</span>
            </div>
          </div>
          <button class="btn-enter" (click)="viewTournament(torneo); $event.stopPropagation()">ENTRAR</button>
        </div>
      </div>
    </div>
  </div>
</div>