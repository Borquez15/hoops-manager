<div class="search-container">
  <div class="search-card">
    <h1 class="search-title">TORNEOS</h1>
    <p class="search-subtitle">Puedes encontrar tus torneos aquÃ­</p>

    <!-- âœ… FORM COMPLETAMENTE AISLADO -->
    <form (submit)="onSearch($event)" novalidate>
      <div class="search-bar">
        <input
          type="text"
          class="search-input"
          [(ngModel)]="searchQuery"
          name="searchInput"
          placeholder="Escribe el nombre del torneo o su ID..."
          autocomplete="off"
          [disabled]="searching"
        />

        />

        <button 
          type="submit"
          class="search-button" 
          [disabled]="searching || !searchQuery.trim()"
          (click)="onSearch($event)">

          <svg *ngIf="!searching" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
          
          <svg *ngIf="searching" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="spin">
            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
          </svg>

          <span *ngIf="searching">Buscando...</span>
          <span *ngIf="!searching">BUSCAR</span>
        </button>
      </div>
    </form>

    <!-- SIN RESULTADOS -->
    <div *ngIf="hasSearched && !match && suggestions.length === 0 && !searching" class="no-results">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor" style="opacity: 0.3;">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
      </svg>
      <p>No encontramos torneos con ese criterio.</p>
    </div>

    <!-- MATCH EXACTO -->
    <div *ngIf="match" class="results-section">
      <h3 class="section-title">âœ… Resultado Exacto</h3>
      <div class="tournament-card match-card" (click)="viewTournament(match, $event)">
        <div class="tournament-logo">
          <span>{{ match.nombre.charAt(0) }}</span>
        </div>

        <div class="tournament-info">
          <h4>{{ match.nombre }}</h4>
          <div class="tournament-details">
            <span class="detail-badge">{{ match.modalidad }}</span>
            <span class="detail-badge">{{ match.vueltas }} {{ match.vueltas === 1 ? 'vuelta' : 'vueltas' }}</span>
            <span class="detail-badge estado">{{ match.estado }}</span>
          </div>
        </div>

        <button 
          type="button"
          class="btn-enter" 
          (click)="viewTournament(match, $event)">
          ENTRAR
        </button>
      </div>
    </div>

    <!-- SUGERENCIAS -->
    <div *ngIf="suggestions.length > 0" class="results-section">
      <h3 class="section-title">ðŸ’¡ Sugerencias ({{ suggestions.length }})</h3>

      <div class="tournaments-grid">
        <div 
          *ngFor="let torneo of suggestions" 
          class="tournament-card"
          (click)="viewTournament(torneo, $event)">
             
          <div class="tournament-logo">
            <span>{{ torneo.nombre.charAt(0) }}</span>
          </div>

          <div class="tournament-info">
            <h4>{{ torneo.nombre }}</h4>
            <div class="tournament-details">
              <span class="detail-badge">{{ torneo.modalidad }}</span>
              <span class="detail-badge">{{ torneo.vueltas }} {{ torneo.vueltas === 1 ? 'vuelta' : 'vueltas' }}</span>
              <span class="detail-badge estado">{{ torneo.estado }}</span>
            </div>
          </div>

          <button 
            type="button"
            class="btn-enter" 
            (click)="viewTournament(torneo, $event)">
            ENTRAR
          </button>
        </div>
      </div>
    </div>
  </div>
</div>